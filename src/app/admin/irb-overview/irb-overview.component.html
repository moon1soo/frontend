<div class="col-sm-12 mt-5">
    <div id="top" class="col-sm-12 row">
        <div id="top-left" class="col-sm-6">
            <dx-data-grid 
                id="irb-overview"
                class="gridContainer-Top10 wide-toolbar"
                [dataSource]="downloadGrid"
                [columnResizingMode]="'nextColumn'" 
                [allowColumnResizing]="true"
                (onContentReady)="onContentReady($event)"
                (onToolbarPreparing)="onToolbarPreparing($event)">
                <dxi-column dataField="stfNo" caption="{{'renewal2017.irb-overview.header.stfNo' | translate}}" cssClass="text-center"></dxi-column>
                <dxi-column dataField="stfNm" caption="{{'renewal2017.irb-overview.header.stfNm' | translate}}" cssClass="text-center"></dxi-column>
                <dxi-column dataField="deptNm" caption="{{'renewal2017.irb-overview.header.deptNm' | translate}}" cssClass="text-center"></dxi-column>
                <dxi-column dataField="count" caption="{{'renewal2017.irb-overview.header.count' | translate}}" cssClass="text-center"></dxi-column>
                <dxo-scrolling mode="virtual"></dxo-scrolling>
                <div *dxTemplate="let data of 'totalCount'">
                    <h3 class="title-grid-sub float-left">
                        {{'renewal2017.irb-overview.category.irb' | translate}}
                    </h3>
                </div>
            </dx-data-grid>
            <dx-load-panel
                #loadPanel
                shadingColor="rgba(255,255,255,0)"
                class="mb-5"
                [position]="{ of: '#irb-overview' }"
                [(visible)]="loading"
                [showIndicator]="true"
                [showPane]="true"
                [shading]="true"
                [closeOnOutsideClick]="false">
            </dx-load-panel>
        </div>
        <div id="top-right" class="col-sm-6">
            <div class="float-right mr-1 row">
                <dx-radio-group
                    class="mr-3 mt-1"
                    [dataSource]="criteriaGroup"
                    displayExpr="text"
                    valueExpr="value"
                    [(value)]="criteria"
                    layout="horizontal"
                    (onValueChanged)="onValueChanged($event)">
                </dx-radio-group>
                <dx-select-box
                    [dataSource]="periodGroup"
                    [(value)]="period"
                    (onValueChanged)="onValueChanged($event)">
                </dx-select-box>
            </div>
            <dx-chart
                *ngIf="downloadChart"
                [dataSource]="downloadChart"
                class="overview-chart">
                <dxi-series
                    argumentField="name"
                    valueField="count"
                    type="bar"
                    color="#89898a">
                </dxi-series>
                <dxi-value-axis [valueMarginsEnabled]="true" [showZero]="false" [autoBreaksEnabled]="true" [maxAutoBreakCount]="1"></dxi-value-axis>
                <dxo-format type="largeNumber" [precision]="1"></dxo-format>
                <dxo-legend [visible]="false"></dxo-legend>
            </dx-chart>
        </div>
    </div>
    <div id="bottom" class="col-sm-12 mt-3 row">
        <div id="bottom-left" class="col-sm-6">
            <dx-data-grid 
                id="irb-overview"
                class="gridContainer-Top10 wide-toolbar"
                [dataSource]="searchGrid"
                [columnResizingMode]="'nextColumn'" 
                [allowColumnResizing]="true"
                (onContentReady)="onContentReady($event)"
                (onToolbarPreparing)="onToolbarPreparing($event)">
                <dxi-column dataField="stfNo" caption="{{'renewal2017.irb-overview.header.stfNo' | translate}}" cssClass="text-center"></dxi-column>
                <dxi-column dataField="stfNm" caption="{{'renewal2017.irb-overview.header.stfNm' | translate}}" cssClass="text-center"></dxi-column>
                <dxi-column dataField="deptNm" caption="{{'renewal2017.irb-overview.header.deptNm' | translate}}" cssClass="text-center"></dxi-column>
                <dxi-column dataField="count" caption="{{'renewal2017.irb-overview.header.count' | translate}}" cssClass="text-center"></dxi-column>
                <dxo-scrolling mode="virtual"></dxo-scrolling>
                <div *dxTemplate="let data of 'totalCount'">
                    <h3 class="title-grid-sub float-left">
                        {{'renewal2017.irb-overview.category.search' | translate}}
                    </h3>
                </div>
            </dx-data-grid>
            <dx-load-panel
                #loadPanel
                shadingColor="rgba(255,255,255,0)"
                class="mb-5"
                [position]="{ of: '#irb-overview' }"
                [(visible)]="loading"
                [showIndicator]="true"
                [showPane]="true"
                [shading]="true"
                [closeOnOutsideClick]="false">
            </dx-load-panel>
        </div>
        <div id="bottom-right" class="col-sm-6">
            <dx-chart
                *ngIf="searchChart"
                [dataSource]="searchChart"
                class="overview-chart">
                <dxi-series
                    argumentField="name"
                    valueField="count"
                    type="bar"
                    color="#89898a">
                </dxi-series>
                <dxi-value-axis [valueMarginsEnabled]="true" [showZero]="false" [autoBreaksEnabled]="true" [maxAutoBreakCount]="1"></dxi-value-axis>
                <dxo-format type="largeNumber" [precision]="1"></dxo-format>
                <dxo-legend [visible]="false"></dxo-legend>
            </dx-chart>
        </div> 
    </div>
</div>